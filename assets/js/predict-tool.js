//*This script originally taken from the site --https://www.prokerala.com/kids/baby-gender/chinese-birth-chart.php-- with embed permission as per stated on its site but I changed the entire design including its main source of images but the script remained the same and credited back to its owner -- //
function conception_date(yy1, mm1, dd1) {
	if(yy1 == 2017) {
		if(mm1 == 1) {
			if(dd1 < 28) lunar_month = 12;
			else lunar_month = 1;
		} else if(mm1 == 2) {
			if(dd1 < 26) lunar_month = 1;
			else lunar_month = 2;
		} else if(mm1 == 3) {
			if(dd1 < 28) lunar_month = 2;
			else lunar_month = 3;
		} else if(mm1 == 4) {
			if(dd1 < 26) lunar_month = 3;
			else lunar_month = 4;
		} else if(mm1 == 5) {
			if(dd1 < 26) lunar_month = 4;
			else lunar_month = 5;
		} else if(mm1 == 6) {
			if(dd1 < 24) lunar_month = 5;
			else lunar_month = 6;
		} else if(mm1 == 7) {
			if(dd1 < 23) lunar_month = 6;
			else lunar_month = 6;
		} else if(mm1 == 8) {
			if(dd1 < 22) lunar_month = 6;
			else lunar_month = 7;
		} else if(mm1 == 9) {
			if(dd1 < 20) lunar_month = 7;
			else lunar_month = 8;
		} else if(mm1 == 10) {
			if(dd1 < 20) lunar_month = 8;
			else lunar_month = 9;
		} else if(mm1 == 11) {
			if(dd1 < 18) lunar_month = 9;
			else lunar_month = 10;
		} else if(mm1 == 12) {
			if(dd1 < 18) lunar_month = 10;
			else lunar_month = 11;
		}
	} else if(yy1 == 2018) {
		if(mm1 == 1) {
			if(dd1 < 18) lunar_month = 11;
			else lunar_month = 12;
		} else if(mm1 == 2) {
			if(dd1 < 16) lunar_month = 12;
			else lunar_month = 1;
		} else if(mm1 == 3) {
			if(dd1 < 17) lunar_month = 1;
			else lunar_month = 2;
		} else if(mm1 == 4) {
			if(dd1 < 16) lunar_month = 2;
			else lunar_month = 3;
		} else if(mm1 == 5) {
			if(dd1 < 15) lunar_month = 3;
			else lunar_month = 4;
		} else if(mm1 == 6) {
			if(dd1 < 14) lunar_month = 4;
			else lunar_month = 5;
		} else if(mm1 == 7) {
			if(dd1 < 13) lunar_month = 5;
			else lunar_month = 6;
		} else if(mm1 == 8) {
			if(dd1 < 11) lunar_month = 6;
			else lunar_month = 7;
		} else if(mm1 == 9) {
			if(dd1 < 10) lunar_month = 7;
			else lunar_month = 8;
		} else if(mm1 == 10) {
			if(dd1 < 9) lunar_month = 8;
			else lunar_month = 9;
		} else if(mm1 == 11) {
			if(dd1 < 8) lunar_month = 9;
			else lunar_month = 10;
		} else if(mm1 == 12) {
			if(dd1 < 7) lunar_month = 10;
			else lunar_month = 11;
		}
	} else if(yy1 == 2019) {
		if(mm1 == 1) {
			if(dd1 < 6) lunar_month = 11;
			else lunar_month = 12;
		} else if(mm1 == 2) {
			if(dd1 < 5) lunar_month = 12;
			else lunar_month = 1;
		} else if(mm1 == 3) {
			if(dd1 < 7) lunar_month = 1;
			else lunar_month = 2;
		} else if(mm1 == 4) {
			if(dd1 < 5) lunar_month = 2;
			else lunar_month = 3;
		} else if(mm1 == 5) {
			if(dd1 < 5) lunar_month = 3;
			else lunar_month = 4;
		} else if(mm1 == 6) {
			if(dd1 < 3) lunar_month = 4;
			else lunar_month = 5;
		} else if(mm1 == 7) {
			if(dd1 < 3) lunar_month = 5;
			else lunar_month = 6;
		} else if(mm1 == 8) {
			if(dd1 < 30) lunar_month = 7;
			else lunar_month = 8;
		} else if(mm1 == 9) {
			if(dd1 < 29) lunar_month = 8;
			else lunar_month = 9;
		} else if(mm1 == 10) {
			if(dd1 < 28) lunar_month = 9;
			else lunar_month = 10;
		} else if(mm1 == 11) {
			if(dd1 < 26) lunar_month = 10;
			else lunar_month = 11;
		} else if(mm1 == 12) {
			if(dd1 < 26) lunar_month = 11;
			else lunar_month = 12;
		}
	} else if(yy1 == 2020) {
		if(mm1 == 1) {
			if(dd1 < 25) lunar_month = 12;
			else lunar_month = 1;
		} else if(mm1 == 2) {
			if(dd1 < 23) lunar_month = 1;
			else lunar_month = 2;
		} else if(mm1 == 3) {
			if(dd1 < 24) lunar_month = 2;
			else lunar_month = 3;
		} else if(mm1 == 4) {
			if(dd1 < 23) lunar_month = 3;
			else lunar_month = 4;
		} else if(mm1 == 5) {
			if(dd1 < 23) lunar_month = 4;
			else lunar_month = 4;
		} else if(mm1 == 6) {
			if(dd1 < 21) lunar_month = 4;
			else lunar_month = 5;
		} else if(mm1 == 7) {
			if(dd1 < 21) lunar_month = 5;
			else lunar_month = 6;
		} else if(mm1 == 8) {
			if(dd1 < 19) lunar_month = 6;
			else lunar_month = 7;
		} else if(mm1 == 9) {
			if(dd1 < 17) lunar_month = 7;
			else lunar_month = 8;
		} else if(mm1 == 10) {
			if(dd1 < 17) lunar_month = 8;
			else lunar_month = 9;
		} else if(mm1 == 11) {
			if(dd1 < 15) lunar_month = 9;
			else lunar_month = 10;
		} else if(mm1 == 12) {
			if(dd1 < 15) lunar_month = 10;
			else lunar_month = 11;
		}
	} else if(yy1 == 2021) {
		if(mm1 == 1) {
			if(dd1 < 13) lunar_month = 11;
			else lunar_month = 12;
		} else if(mm1 == 2) {
			if(dd1 < 12) lunar_month = 12;
			else lunar_month = 1;
		} else if(mm1 == 3) {
			if(dd1 < 13) lunar_month = 1;
			else lunar_month = 2;
		} else if(mm1 == 4) {
			if(dd1 < 12) lunar_month = 2;
			else lunar_month = 3;
		} else if(mm1 == 5) {
			if(dd1 < 12) lunar_month = 3;
			else lunar_month = 4;
		} else if(mm1 == 6) {
			if(dd1 < 10) lunar_month = 4;
			else lunar_month = 5;
		} else if(mm1 == 7) {
			if(dd1 < 10) lunar_month = 5;
			else lunar_month = 6;
		} else if(mm1 == 8) {
			if(dd1 < 8) lunar_month = 6;
			else lunar_month = 7;
		} else if(mm1 == 9) {
			if(dd1 < 7) lunar_month = 7;
			else lunar_month = 8;
		} else if(mm1 == 10) {
			if(dd1 < 6) lunar_month = 8;
			else lunar_month = 9;
		} else if(mm1 == 11) {
			if(dd1 < 5) lunar_month = 9;
			else lunar_month = 10;
		} else if(mm1 == 12) {
			if(dd1 < 4) lunar_month = 10;
			else lunar_month = 11;
		}
	} else if(yy1 == 2022) {
		if(mm1 == 1) {
			if(dd1 < 3) lunar_month = 11;
			else lunar_month = 12;
		} else if(mm1 == 2) {
			lunar_month = 1;
		} else if(mm1 == 3) {
			if(dd1 < 3) lunar_month = 1;
			else lunar_month = 2;
		} else if(mm1 == 4) {
			lunar_month = 3;
		} else if(mm1 == 5) {
			if(dd1 < 30) lunar_month = 4;
			else lunar_month = 5;
		} else if(mm1 == 6) {
			if(dd1 < 29) lunar_month = 5;
			else lunar_month = 6;
		} else if(mm1 == 7) {
			if(dd1 < 29) lunar_month = 6;
			else lunar_month = 7;
		} else if(mm1 == 8) {
			if(dd1 < 27) lunar_month = 7;
			else lunar_month = 8;
		} else if(mm1 == 9) {
			if(dd1 < 26) lunar_month = 8;
			else lunar_month = 9;
		} else if(mm1 == 10) {
			if(dd1 < 25) lunar_month = 9;
			else lunar_month = 10;
		} else if(mm1 == 11) {
			if(dd1 < 24) lunar_month = 10;
			else lunar_month = 11;
		} else if(mm1 == 12) {
			if(dd1 < 23) lunar_month = 11;
			else lunar_month = 12;
		}
	} else if(yy1 == 2023) {
		if(mm1 == 1) {
			if(dd1 < 22) lunar_month = 12;
			else lunar_month = 1;
		} else if(mm1 == 2) {
			if(dd1 < 20) lunar_month = 1;
			else lunar_month = 2;
		} else if(mm1 == 3) {
			if(dd1 < 22) lunar_month = 2;
			else lunar_month = 2;
		} else if(mm1 == 4) {
			if(dd1 < 20) lunar_month = 2;
			else lunar_month = 3;
		} else if(mm1 == 5) {
			if(dd1 < 19) lunar_month = 3;
			else lunar_month = 4;
		} else if(mm1 == 6) {
			if(dd1 < 18) lunar_month = 4;
			else lunar_month = 5;
		} else if(mm1 == 7) {
			if(dd1 < 18) lunar_month = 5;
			else lunar_month = 6;
		} else if(mm1 == 8) {
			if(dd1 < 16) lunar_month = 6;
			else lunar_month = 7;
		} else if(mm1 == 9) {
			if(dd1 < 15) lunar_month = 7;
			else lunar_month = 8;
		} else if(mm1 == 10) {
			if(dd1 < 15) lunar_month = 8;
			else lunar_month = 9;
		} else if(mm1 == 11) {
			if(dd1 < 13) lunar_month = 9;
			else lunar_month = 10;
		} else if(mm1 == 12) {
			if(dd1 < 13) lunar_month = 10;
			else lunar_month = 11;
		}
	} else if(yy1 == 2024) {
		if(mm1 == 1) {
			if(dd1 < 11) lunar_month = 11;
			else lunar_month = 12;
		} else if(mm1 == 2) {
			if(dd1 < 10) lunar_month = 12;
			else lunar_month = 1;
		} else if(mm1 == 3) {
			if(dd1 < 10) lunar_month = 1;
			else lunar_month = 2;
		} else if(mm1 == 4) {
			if(dd1 < 9) lunar_month = 2;
			else lunar_month = 3;
		} else if(mm1 == 5) {
			if(dd1 < 8) lunar_month = 3;
			else lunar_month = 4;
		} else if(mm1 == 6) {
			if(dd1 < 6) lunar_month = 4;
			else lunar_month = 5;
		} else if(mm1 == 7) {
			if(dd1 < 6) lunar_month = 5;
			else lunar_month = 6;
		} else if(mm1 == 8) {
			if(dd1 < 4) lunar_month = 6;
			else lunar_month = 7;
		} else if(mm1 == 9) {
			if(dd1 < 3) lunar_month = 7;
			else lunar_month = 8;
		} else if(mm1 == 10) {
			if(dd1 < 3) lunar_month = 8;
			else lunar_month = 9;
		} else if(mm1 == 11) {
			lunar_month = 10;
		} else if(mm1 == 12) {
			if(dd1 < 31) lunar_month = 11;
			else lunar_month = 12;
		}
	} else if(yy1 == 2025) {
		if(mm1 == 1) {
			if(dd1 < 29) lunar_month = 12;
			else lunar_month = 1;
		} else if(mm1 == 2) {
			if(dd1 < 28) lunar_month = 1;
			else lunar_month = 2;
		} else if(mm1 == 3) {
			if(dd1 < 29) lunar_month = 2;
			else lunar_month = 3;
		} else if(mm1 == 4) {
			if(dd1 < 28) lunar_month = 3;
			else lunar_month = 4;
		} else if(mm1 == 5) {
			if(dd1 < 27) lunar_month = 4;
			else lunar_month = 5;
		} else if(mm1 == 6) {
			if(dd1 < 25) lunar_month = 5;
			else lunar_month = 6;
		} else if(mm1 == 7) {
			if(dd1 < 25) lunar_month = 6;
			else lunar_month = 6;
		} else if(mm1 == 8) {
			if(dd1 < 23) lunar_month = 6;
			else lunar_month = 7;
		} else if(mm1 == 9) {
			if(dd1 < 22) lunar_month = 7;
			else lunar_month = 8;
		} else if(mm1 == 10) {
			if(dd1 < 21) lunar_month = 8;
			else lunar_month = 9;
		} else if(mm1 == 11) {
			if(dd1 < 20) lunar_month = 9;
			else lunar_month = 10;
		} else if(mm1 == 12) {
			if(dd1 < 20) lunar_month = 10;
			else lunar_month = 11;
		}
	} else if(yy1 == 2026) {
		if(mm1 == 1) {
			if(dd1 < 19) lunar_month = 11;
			else lunar_month = 12;
		} else if(mm1 == 2) {
			if(dd1 < 17) lunar_month = 12;
			else lunar_month = 1;
		} else if(mm1 == 3) {
			if(dd1 < 19) lunar_month = 1;
			else lunar_month = 2;
		} else if(mm1 == 4) {
			if(dd1 < 17) lunar_month = 2;
			else lunar_month = 3;
		} else if(mm1 == 5) {
			if(dd1 < 17) lunar_month = 3;
			else lunar_month = 4;
		} else if(mm1 == 6) {
			if(dd1 < 15) lunar_month = 4;
			else lunar_month = 5;
		} else if(mm1 == 7) {
			if(dd1 < 14) lunar_month = 5;
			else lunar_month = 6;
		} else if(mm1 == 8) {
			if(dd1 < 13) lunar_month = 6;
			else lunar_month = 7;
		} else if(mm1 == 9) {
			if(dd1 < 11) lunar_month = 7;
			else lunar_month = 8;
		} else if(mm1 == 10) {
			if(dd1 < 10) lunar_month = 8;
			else lunar_month = 9;
		} else if(mm1 == 11) {
			if(dd1 < 9) lunar_month = 9;
			else lunar_month = 10;
		} else if(mm1 == 12) {
			if(dd1 < 9) lunar_month = 10;
			else lunar_month = 11;
		}
	} else if(yy1 == 2027) {
		if(mm1 == 1) {
			if(dd1 < 8) lunar_month = 11;
			else lunar_month = 12;
		} else if(mm1 == 2) {
			if(dd1 < 6) lunar_month = 12;
			else lunar_month = 1;
		} else if(mm1 == 3) {
			if(dd1 < 8) lunar_month = 1;
			else lunar_month = 2;
		} else if(mm1 == 4) {
			if(dd1 < 7) lunar_month = 2;
			else lunar_month = 3;
		} else if(mm1 == 5) {
			if(dd1 < 6) lunar_month = 3;
			else lunar_month = 4;
		} else if(mm1 == 6) {
			if(dd1 < 5) lunar_month = 4;
			else lunar_month = 5;
		} else if(mm1 == 7) {
			if(dd1 < 4) lunar_month = 5;
			else lunar_month = 6;
		} else if(mm1 == 8) {
			if(dd1 < 2) lunar_month = 6;
			else lunar_month = 7;
		} else if(mm1 == 9) {
			if(dd1 < 30) lunar_month = 8;
			else lunar_month = 9;
		} else if(mm1 == 10) {
			if(dd1 < 29) lunar_month = 9;
			else lunar_month = 10;
		} else if(mm1 == 11) {
			if(dd1 < 28) lunar_month = 10;
			else lunar_month = 11;
		} else if(mm1 == 12) {
			if(dd1 < 28) lunar_month = 11;
			else lunar_month = 12;
		}
	} else if(yy1 == 2028) {
		if(mm1 == 1) {
			if(dd1 < 26) lunar_month = 12;
			else lunar_month = 1;
		} else if(mm1 == 2) {
			if(dd1 < 25) lunar_month = 1;
			else lunar_month = 2;
		} else if(mm1 == 3) {
			if(dd1 < 26) lunar_month = 2;
			else lunar_month = 3;
		} else if(mm1 == 4) {
			if(dd1 < 25) lunar_month = 3;
			else lunar_month = 4;
		} else if(mm1 == 5) {
			if(dd1 < 24) lunar_month = 4;
			else lunar_month = 5;
		} else if(mm1 == 6) {
			if(dd1 < 23) lunar_month = 5;
			else lunar_month = 5;
		} else if(mm1 == 7) {
			if(dd1 < 22) lunar_month = 5;
			else lunar_month = 6;
		} else if(mm1 == 8) {
			if(dd1 < 20) lunar_month = 6;
			else lunar_month = 7;
		} else if(mm1 == 9) {
			if(dd1 < 19) lunar_month = 7;
			else lunar_month = 8;
		} else if(mm1 == 10) {
			if(dd1 < 18) lunar_month = 8;
			else lunar_month = 9;
		} else if(mm1 == 11) {
			if(dd1 < 16) lunar_month = 9;
			else lunar_month = 10;
		} else if(mm1 == 12) {
			if(dd1 < 16) lunar_month = 10;
			else lunar_month = 11;
		}
	} else if(yy1 == 2029) {
		if(mm1 == 1) {
			if(dd1 < 15) lunar_month = 11;
			else lunar_month = 12;
		} else if(mm1 == 2) {
			if(dd1 < 13) lunar_month = 12;
			else lunar_month = 1;
		} else if(mm1 == 3) {
			if(dd1 < 15) lunar_month = 1;
			else lunar_month = 2;
		} else if(mm1 == 4) {
			if(dd1 < 14) lunar_month = 2;
			else lunar_month = 3;
		} else if(mm1 == 5) {
			if(dd1 < 13) lunar_month = 3;
			else lunar_month = 4;
		} else if(mm1 == 6) {
			if(dd1 < 12) lunar_month = 4;
			else lunar_month = 5;
		} else if(mm1 == 7) {
			if(dd1 < 11) lunar_month = 5;
			else lunar_month = 6;
		} else if(mm1 == 8) {
			if(dd1 < 10) lunar_month = 6;
			else lunar_month = 7;
		} else if(mm1 == 9) {
			if(dd1 < 8) lunar_month = 7;
			else lunar_month = 8;
		} else if(mm1 == 10) {
			if(dd1 < 8) lunar_month = 8;
			else lunar_month = 9;
		} else if(mm1 == 11) {
			if(dd1 < 6) lunar_month = 9;
			else lunar_month = 10;
		} else if(mm1 == 12) {
			if(dd1 < 5) lunar_month = 10;
			else lunar_month = 11;
		}
	} else if(yy1 == 2030) {
		if(mm1 == 1) {
			if(dd1 < 4) lunar_month = 11;
			else lunar_month = 12;
		} else if(mm1 == 2) {
			if(dd1 < 3) lunar_month = 12;
			else lunar_month = 1;
		} else if(mm1 == 3) {
			if(dd1 < 4) lunar_month = 1;
			else lunar_month = 2;
		} else if(mm1 == 4) {
			if(dd1 < 3) lunar_month = 2;
			else lunar_month = 3;
		} else if(mm1 == 5) {
			if(dd1 < 2) lunar_month = 3;
			else lunar_month = 4;
		} else if(mm1 == 6) {
			lunar_month = 5;
		} else if(mm1 == 7) {
			if(dd1 < 30) lunar_month = 6;
			else lunar_month = 7;
		} else if(mm1 == 8) {
			if(dd1 < 29) lunar_month = 7;
			else lunar_month = 8;
		} else if(mm1 == 9) {
			if(dd1 < 27) lunar_month = 8;
			else lunar_month = 9;
		} else if(mm1 == 10) {
			if(dd1 < 27) lunar_month = 9;
			else lunar_month = 10;
		} else if(mm1 == 11) {
			if(dd1 < 25) lunar_month = 10;
			else lunar_month = 11;
		} else if(mm1 == 12) {
			if(dd1 < 25) lunar_month = 11;
			else lunar_month = 12;
		}
	}
	return lunar_month;
}

function calculateAge(birthday) {
	var ageDifMs = Date.now() - new Date(birthday).getTime();
	var ageDate = new Date(ageDifMs);
	return Math.abs(ageDate.getUTCFullYear() - 1970);
}

function lunarage(yy, mm, dd) {
	var lunar_age = '';
	var age = calculateAge(document.getElementById('dob_chinese').value);
	if(yy == 1974) {
		if(mm >= 2) {
			lunar_age = age + 1;
		} else {
			if(dd > 22) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1975) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 10) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1976) {
		if(mm >= 2) {
			lunar_age = age + 1;
		} else {
			if(dd > 30) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1977) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 17) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1978) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 7) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1979) {
		if(mm >= 2) {
			lunar_age = age + 1;
		} else {
			if(dd > 27) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1980) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 15) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1981) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 4) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1982) {
		if(mm >= 2) {
			lunar_age = age + 1;
		} else {
			if(dd > 24) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1983) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 12) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1984) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 1) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1985) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 19) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1986) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 8) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1987) {
		if(mm >= 2) {
			lunar_age = age + 1;
		} else {
			if(dd > 28) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1988) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 16) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1989) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 5) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1990) {
		if(mm >= 2) {
			lunar_age = age + 1;
		} else {
			if(dd > 26) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1991) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 14) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1992) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 3) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1993) {
		if(mm >= 2) {
			lunar_age = age + 1;
		} else {
			if(dd > 22) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1994) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 9) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1995) {
		if(mm >= 2) {
			lunar_age = age + 1;
		} else {
			if(dd > 30) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1996) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 18) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1997) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 6) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1998) {
		if(mm >= 2) {
			lunar_age = age + 1;
		} else {
			if(dd > 27) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 1999) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 15) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 2000) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 4) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 2001) {
		if(mm >= 2) {
			lunar_age = age + 1;
		} else {
			if(dd > 23) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 2002) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 11) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 2003) {
		if(mm >= 2) {
			lunar_age = age + 1;
		} else {
			if(dd > 31) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 2004) {
		if(mm >= 2) {
			lunar_age = age + 1;
		} else {
			if(dd > 21) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 2005) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 8) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 2006) {
		if(mm >= 2) {
			lunar_age = age + 1;
		} else {
			if(dd > 28) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 2007) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 17) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 2008) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 6) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 2009) {
		if(mm >= 2) {
			lunar_age = age + 1;
		} else {
			if(dd > 25) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 2010) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 13) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 2011) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 2) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 2012) {
		if(mm >= 2) {
			lunar_age = age + 1;
		} else {
			if(dd > 22) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 2013) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 9) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 2014) {
		if(mm >= 2) {
			lunar_age = age + 1;
		} else {
			if(dd > 30) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	} else if(yy == 2015) {
		if(mm >= 3) {
			lunar_age = age + 1;
		} else {
			if(mm == 2 && dd > 18) lunar_age = age + 1;
			else lunar_age = age + 2;
		}
	}
	return lunar_age;
}
document.addEventListener("DOMContentLoaded", function() {
	var start_conp = new Date();
	start_conp.setFullYear(start_conp.getFullYear() - 1);
	var end_conp = new Date();
	start_conp.setMonth(0, 1);
	end_conp.setFullYear(end_conp.getFullYear() + 12);
	end_conp.setMonth(11, 31);
	var conceptionInput = document.getElementById("conception_chinese");
	if(conceptionInput) {
		conceptionInput.type = "date";
		conceptionInput.min = start_conp.toISOString().split('T')[0];
		conceptionInput.max = end_conp.toISOString().split('T')[0];
		conceptionInput.valueAsDate = new Date();
	} else {
		console.error("Element with ID 'conception_chinese' not found.");
	}
	var start = new Date();
	start.setFullYear(start.getFullYear() - 44);
	start.setMonth(0, 1);
	var end = new Date();
	end.setFullYear(end.getFullYear() - 16);
	end.setMonth(11, 31);
	var dobInput = document.getElementById("dob_chinese");
	if(dobInput) {
		dobInput.type = "date";
		dobInput.min = start.toISOString().split('T')[0];
		dobInput.max = end.toISOString().split('T')[0];
		dobInput.valueAsDate = new Date();
	} else {
		console.error("Element with ID 'dob_chinese' not found.");
	}
});
document.addEventListener("DOMContentLoaded", function() {
	document.getElementById("genderPredictorSubmit").addEventListener("click", function() {
		document.getElementById('gend').innerHTML = '';
		console.log('conep_mnt' + document.getElementById('conception_chinese').value + ' dob: ' + document.getElementById('dob_chinese').value);
		const conceptionDate = new Date(document.getElementById('conception_chinese').value);
		const year_ch = conceptionDate.getFullYear();
		const month_ch = conceptionDate.getMonth() + 1;
		const date_ch = conceptionDate.getDate();
		const dobChinese = new Date(document.getElementById('dob_chinese').value);
		const year_dob = dobChinese.getFullYear();
		const month_dob = dobChinese.getMonth() + 1;
		const date_dob = dobChinese.getDate();
		const concep_month = conception_date(year_ch, month_ch, date_ch) - 1;
		const chines_ages = lunarage(year_dob, month_dob, date_dob);
		const a = [
			[1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
			[0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1],
			[1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0],
			[0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
			[1, 0, 0, 1, 0, 1, 1, 0, 1, 1, 1, 1],
			[0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1],
			[0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1],
			[1, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0],
			[0, 1, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1],
			[1, 0, 1, 0, 1, 1, 0, 0, 0, 0, 1, 0],
			[0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1],
			[1, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1],
			[0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
			[0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0],
			[0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0],
			[1, 0, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0],
			[0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0],
			[0, 0, 1, 0, 1, 1, 1, 0, 1, 1, 0, 0],
			[1, 0, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0],
			[0, 1, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0],
			[1, 0, 1, 0, 0, 1, 0, 1, 0, 1, 0, 1],
			[0, 1, 0, 0, 0, 1, 1, 0, 1, 0, 1, 1],
			[1, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 1],
			[0, 1, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0],
			[1, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0, 1],
			[0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0],
			[0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 1],
			[1, 0, 0, 1, 1, 1, 0, 1, 0, 1, 0, 0]
		];
		if(chines_ages < 18 || chines_ages > 45) {
			alert('Chinese gender predictor calculates for ages 18 to 45. Therefore, our tool cannot predict baby\'s gender for your age.');
			return false;
		} else {
			const f = a[chines_ages - 18][concep_month];
			const typeElement = document.getElementById('type');
			const gendElement = document.getElementById('gend');
			if(f === 1) {
				typeElement.innerHTML = '<span style=" color: #a8f6f4;">It\'s A Baby Girl</span><br /> <picture class=processed-webp><source srcset=https://cdn.jsdelivr.net/gh/tbbcom/gender-predict-tool@main/assets/src/baby-girl.png alt="Baby Girl" title="Baby Girl" /></picture>';
				gendElement.innerHTML = '<span style=" color: #a8f6f4;">a baby girl</span>';
			} else if(f === 0) {
				typeElement.innerHTML = '<span style=" color: #b8e4ff;">It\'s A Baby Boy </span><br /> <picture class=processed-webp><source srcset=https://cdn.jsdelivr.net/gh/tbbcom/gender-predict-tool@main/assets/src/baby-boy.png alt="Baby Boy" title="Baby Boy" /></picture>';
				gendElement.innerHTML = '<span style=" color: #b8e4ff;">a baby boy</span>';
			}
			document.getElementById('result').style.display = 'block';
			window.scrollTo({
				top: document.getElementById("result").offsetTop - 70,
				behavior: 'smooth'
			});
		}
	});
	document.querySelectorAll('.tabs-list h3').forEach(header => {
		header.addEventListener('click', function() {
			const panel = this.nextElementSibling;
			panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
			this.querySelector('.arrow-down').classList.toggle('arrow-up');
		});
	});
	document.querySelectorAll('.tabs-list .arrow-down').forEach(arrow => {
		arrow.addEventListener('click', function() {
			const panel = this.nextElementSibling;
			panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
			this.classList.toggle('arrow-up');
		});
	});
});
var images = document.querySelectorAll('.js-lazy-image');
var config = {
	rootMargin: '50px 0px',
	threshold: 0.01
};
var iObserver, imageCount = images.length;
if(!('IntersectionObserver' in window)) {
	loadImagesImmediately(images);
} else {
	iObserver = new IntersectionObserver(onIntersection, config);
	for(var i = 0; i < images.length; i++) {
		var image = images[i];
		if(image.classList.contains('js-lazy-image--handled')) {
			continue;
		}
		iObserver.observe(image);
	}
}

function preloadImage(image) {
	const src = image.dataset.src;
	if(!src) {
		return;
	}
	image.classList.add('js-lazy-image--handled');
	image.src = src;
	if(image.previousSibling.nodeName == 'SOURCE') image.previousSibling.srcset = src;
}

function loadImagesImmediately(images) {
	for(var i = 0; i < images.length; i++) {
		var image = images[i];
		preloadImage(image);
	}
}

function onIntersection(entries) {
	if(imageCount === 0) {
		iObserver.disconnect();
	}
	for(var i = 0; i < entries.length; i++) {
		var entry = entries[i];
		if(entry.intersectionRatio > 0) {
			imageCount--;
			iObserver.unobserve(entry.target);
			preloadImage(entry.target);
		}
	}
}
